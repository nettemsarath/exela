import{l as f,u as p,k as v,j as e,S as g,a as i}from"./index.19ea6f7d.js";import{u as y}from"./object.a29c9d9a.js";import{u as N}from"./useMutation.8f9a41af.js";import{u as x}from"./useQuery.7917c771.js";import{a as c}from"./index.01a5db20.js";const d={id:3,name:"",units_consumed:"10 units",bill_date:"12-02-2022",paid_date:"12-02-2022",amount:"\u20B9500",fixed_charge:"\u20B9200",energy_charge:"\u20B950",fuel_cost_adjustment_charge:"\u20B910",tax_or_electricity_duty:"\u20B920",penality:"\u20B90",other_charges:"\u20B950"},b=async n=>{try{const r=await c.get("https://test.smartdhyana.com");return d}catch(r){throw r}},B=async(n,r)=>{try{const s=await c.get("https://test.smartdhyana.com");return d}catch(s){throw s}};function E(){const{id:n}=f(),r=p(),{control:s,register:t,handleSubmit:l,formState:{errors:j},watch:C,reset:m}=y({reValidateMode:"onChange",defaultValues:{name:"",units_consumed:"",bill_date:"",paid_date:"",amount:"",fixed_charge:"",energy_charge:"",fuel_cost_adjustment_charge:"",tax_or_electricity_duty:"",penality:"",other_charges:""}}),o=v();x("electricitybill",async()=>await b(),{onSuccess:a=>{m({name:a.name,units_consumed:a.units_consumed,bill_date:a.bill_date,paid_date:a.paid_date,amount:a.amount,fixed_charge:a.fixed_charge,energy_charge:a.energy_charge,fuel_cost_adjustment_charge:a.fuel_cost_adjustment_charge,tax_or_electricity_duty:a.tax_or_electricity_duty,penality:a.penality,other_charges:a.other_charges})}});const{mutateAsync:_,isLoading:u}=N(B,{onSuccess:a=>{o.invalidateQueries("electricitybills")}}),h=async a=>{console.log(a),await _(n,a),r("/")};return u?e(g,{}):e("div",{className:"editBill",children:i("form",{onSubmit:l(h),children:[e("div",{className:"editBill_header",children:" Add New Bill "}),i("div",{className:"form_div",children:[e("div",{className:"form_name",children:e("label",{children:"First Name: "})}),e("div",{className:"form_input",children:e("input",{name:"name",...t("name")})})]}),i("div",{className:"form_div",children:[e("div",{className:"form_name",children:e("label",{children:"Units Consumed: "})}),e("div",{className:"form_input",children:e("input",{name:"units_consumed",...t("units_consumed")})})]}),i("div",{className:"form_div",children:[e("div",{className:"form_name",children:e("label",{children:"Bill Date: "})}),e("div",{className:"form_input",children:e("input",{name:"bill_date",type:"date",...t("bill_date")})})]}),i("div",{className:"form_div",children:[e("div",{className:"form_name",children:e("label",{children:"Paid Date: "})}),e("div",{className:"form_input",children:e("input",{name:"paid_date",type:"date",...t("paid_date")})})]}),i("div",{className:"form_div",children:[e("div",{className:"form_name",children:e("label",{children:"Amount: "})}),e("div",{className:"form_input",children:e("input",{name:"amount",...t("amount")})})]}),i("div",{className:"form_div",children:[e("div",{className:"form_name",children:e("label",{children:"Fixed Charge: "})}),e("div",{className:"form_input",children:e("input",{name:"fixed_charge",...t("fixed_charge")})})]}),i("div",{className:"form_div",children:[e("div",{className:"form_name",children:e("label",{children:" Energy Charge: "})}),e("div",{className:"form_input",children:e("input",{name:"energy_charge",...t("energy_charge")})})]}),i("div",{className:"form_div",children:[e("div",{className:"form_name",children:e("label",{children:" Fuel Cost Adjustment Charge: "})}),e("div",{className:"form_input",children:e("input",{name:"fuel_cost_adjustment_charge",...t("fuel_cost_adjustment_charge")})})]}),i("div",{className:"form_div",children:[e("div",{className:"form_name",children:e("label",{children:"Tax or Electricity Duty Charge: "})}),e("div",{className:"form_input",children:e("input",{name:"tax_or_electricity_duty",...t("tax_or_electricity_duty")})})]}),i("div",{className:"form_div",children:[e("div",{className:"form_name",children:e("label",{children:" penality: "})}),e("div",{className:"form_input",children:e("input",{name:"penality",...t("penality")})})]}),i("div",{className:"form_div",children:[e("div",{className:"form_name",children:e("label",{children:" Other Charges: "})}),e("div",{className:"form_input",children:e("input",{name:"other_charges",...t("other_charges")})})]}),e("div",{className:"editBill_submit",children:e("button",{type:"submit",children:" Update "})})]})})}export{E as default};
